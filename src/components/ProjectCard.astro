---
interface Props {
	title: string;
	description: string;
	technologies: string[];
	repo?: string;
	demo?: string;
	status: 'active' | 'complete' | 'archived';
	slug: string;
}

const { title, description, technologies, repo, demo, status, slug } = Astro.props;

const statusColors = {
	active: 'bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-400',
	complete: 'bg-blue-100 text-blue-700 dark:bg-blue-950 dark:text-blue-400',
	archived: 'bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400',
};
---

<article class="border border-slate-200 dark:border-slate-800 rounded-lg p-6 flex flex-col gap-4 hover:border-blue-300 dark:hover:border-blue-700 transition-colors">
	<div class="flex items-start justify-between gap-3">
		<h3 class="text-lg font-semibold text-slate-900 dark:text-slate-100">
			<a href={`/projects#${slug}`} class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors no-underline">
				{title}
			</a>
		</h3>
		<span class:list={['text-xs px-2 py-1 rounded font-medium shrink-0', statusColors[status]]}>
			{status}
		</span>
	</div>

	<p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed flex-1">
		{description}
	</p>

	<div class="flex flex-wrap gap-2">
		{technologies.map((tech) => (
			<span class="text-xs px-2 py-1 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded font-mono">
				{tech}
			</span>
		))}
	</div>

	<div class="flex gap-3 pt-2 border-t border-slate-100 dark:border-slate-800">
		{repo && (
			<a href={repo} target="_blank" rel="noopener noreferrer" class="text-sm text-blue-600 dark:text-blue-400 hover:underline no-underline flex items-center gap-1">
				<svg viewBox="0 0 16 16" width="14" height="14" fill="currentColor" aria-hidden="true">
					<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
				</svg>
				View on GitHub
			</a>
		)}
		{demo && (
			<a href={demo} target="_blank" rel="noopener noreferrer" class="text-sm text-blue-600 dark:text-blue-400 hover:underline no-underline">
				Live Demo â†’
			</a>
		)}
	</div>
</article>
