---
interface Props {
	title: string;
	description: string;
	technologies: string[];
	repo?: string;
	demo?: string;
	status: 'active' | 'complete' | 'archived';
	slug: string;
}

const { title, description, technologies, repo, demo, status, slug } = Astro.props;

const statusStyles = {
	active:   'background:var(--color-success-subtle);border:1px solid rgba(63,185,80,0.25);color:var(--color-success);',
	complete: 'background:var(--color-info-subtle);border:1px solid rgba(88,166,255,0.25);color:var(--color-info);',
	archived: 'background:var(--bg-muted);border:1px solid var(--border-muted);color:var(--text-tertiary);',
};
---

<article
	class="flex flex-col gap-4"
	style="background:var(--bg-surface);border:1px solid var(--border);border-radius:8px;padding:1.5rem;box-shadow:var(--shadow-sm);transition:border-color 0.15s ease,box-shadow 0.15s ease,background-color 0.15s ease;"
	onmouseover="this.style.borderColor='var(--border-emphasis)';this.style.backgroundColor='var(--bg-surface-2)';this.style.boxShadow='var(--shadow-glow)';"
	onmouseout="this.style.borderColor='var(--border)';this.style.backgroundColor='var(--bg-surface)';this.style.boxShadow='var(--shadow-sm)';"
>
	<div class="flex items-start justify-between gap-3">
		<h3 class="text-lg font-semibold" style="color:var(--text-primary);letter-spacing:-0.01em;">
			<a href={`/projects#${slug}`} class="no-underline transition-colors"
				style="color:var(--text-primary);"
				onmouseover="this.style.color='var(--link)'" onmouseout="this.style.color='var(--text-primary)'">
				{title}
			</a>
		</h3>
		<span class="text-xs px-2 py-0.5 rounded font-medium shrink-0" style={statusStyles[status]}>
			{status}
		</span>
	</div>

	<p class="text-sm leading-relaxed flex-1 mb-0" style="color:var(--text-secondary);">
		{description}
	</p>

	<div class="flex flex-wrap gap-2">
		{technologies.map((tech) => (
			<span class="text-xs px-2 py-0.5 rounded font-mono"
				style="background:var(--bg-muted);border:1px solid var(--border-muted);color:var(--text-secondary);">
				{tech}
			</span>
		))}
	</div>

	<div class="flex gap-4 pt-3" style="border-top:1px solid var(--border-muted);">
		{repo && (
			<a href={repo} target="_blank" rel="noopener noreferrer"
				class="text-sm no-underline flex items-center gap-1.5 transition-colors font-medium"
				style="color:var(--link);"
				onmouseover="this.style.color='var(--link-hover)'" onmouseout="this.style.color='var(--link)'">
				<svg viewBox="0 0 16 16" width="14" height="14" fill="currentColor" aria-hidden="true">
					<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
				</svg>
				GitHub
			</a>
		)}
		{demo && (
			<a href={demo} target="_blank" rel="noopener noreferrer"
				class="text-sm no-underline transition-colors font-medium"
				style="color:var(--link);"
				onmouseover="this.style.color='var(--link-hover)'" onmouseout="this.style.color='var(--link)'">
				Live Demo â†’
			</a>
		)}
	</div>
</article>
