---
interface Props {
	title: string;
	description: string;
	pubDate: Date;
	slug: string;
	tags?: string[];
	readingTime?: number;
}

const { title, description, pubDate, slug, tags = [], readingTime } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('en-US', {
	year: 'numeric',
	month: 'short',
	day: 'numeric',
});
---

<article
	style="background:var(--bg-surface);border:1px solid var(--border);border-radius:4px;padding:1.5rem;transition:border-color 0.15s ease,background-color 0.15s ease;"
	onmouseover="this.style.borderColor='var(--border-emphasis)';this.style.backgroundColor='var(--bg-surface-2)';"
	onmouseout="this.style.borderColor='var(--border)';this.style.backgroundColor='var(--bg-surface)';"
>
	<a href={`/blog/${slug}`} class="no-underline block" style="color:inherit;">
		<div class="flex items-center gap-3 mb-3" style="color:var(--text-tertiary);">
			<span class="font-mono" style="font-size:0.7rem;letter-spacing:0.06em;text-transform:uppercase;">
				<time datetime={pubDate.toISOString()}>{formattedDate}</time>
			</span>
			{readingTime && (
				<span class="font-mono" style="font-size:0.7rem;letter-spacing:0.06em;text-transform:uppercase;">
					Â· {readingTime} min
				</span>
			)}
		</div>
		<h3 class="font-semibold mb-2 leading-snug" style="font-size:1rem;color:var(--text-primary);letter-spacing:-0.01em;">
			{title}
		</h3>
		<p class="text-sm leading-relaxed line-clamp-2 mb-0" style="color:var(--text-secondary);">
			{description}
		</p>
		{tags.length > 0 && (
			<div class="flex flex-wrap gap-2 mt-4">
				{tags.map((tag) => (
					<span class="font-mono" style="font-size:0.7rem;letter-spacing:0.04em;text-transform:uppercase;color:var(--text-tertiary);">
						{tag}
					</span>
				))}
			</div>
		)}
	</a>
</article>
