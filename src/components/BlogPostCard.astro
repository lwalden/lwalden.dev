---
interface Props {
	title: string;
	description: string;
	pubDate: Date;
	slug: string;
	tags?: string[];
	readingTime?: number;
}

const { title, description, pubDate, slug, tags = [], readingTime } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('en-US', {
	year: 'numeric',
	month: 'long',
	day: 'numeric',
});
---

<article class="group border border-slate-200 dark:border-slate-800 rounded-lg p-6 hover:border-blue-300 dark:hover:border-blue-700 transition-colors">
	<a href={`/blog/${slug}`} class="no-underline block">
		<div class="flex items-center gap-3 mb-3 text-sm text-slate-500 dark:text-slate-400">
			<time datetime={pubDate.toISOString()}>{formattedDate}</time>
			{readingTime && <span>&middot; {readingTime} min read</span>}
		</div>
		<h3 class="text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
			{title}
		</h3>
		<p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed line-clamp-2">
			{description}
		</p>
		{tags.length > 0 && (
			<div class="flex flex-wrap gap-2 mt-4">
				{tags.map((tag) => (
					<span class="text-xs px-2 py-1 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded">
						{tag}
					</span>
				))}
			</div>
		)}
	</a>
</article>
